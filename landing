//ui.root.clear();
ui.root.setLayout(ui.Panel.Layout.absolute());

// data 
var data = require('users/stormwaterheatmap/apps:data/data_dict.js')
var Style = require('users/stormwaterheatmap/apps:Modules/Style')

var fonts = Style.fonts 

var rasters = data.rasters
var layer_types = Object.keys(rasters)
print(layer_types)

  




/* ----------------------------
WIDGETS 
*/
/* Select */ 

var select_layer_type = ui.Select({
  items: layer_types,
  placeholder: "Select Layer Type", 
  value: layer_types[0], 
  onChange: get_display_layers
   
    
      // secondname_select = ui.Select({
      //   items: rasters[select_layer_type.getValue()], 
      //   onChange: function() {
      //   }})
        
  
}); 
    
var get_display_layers = function(layer_type){
  return(Object.keys(rasters[layer_type]))
}

var select_display_layer =  ui.Select({
  items:  get_display_layers(select_layer_type.getValue()),
  placeholder: "Select Display Layer"
  //value: "Total Suspended Solids"
})

/* Label */ 
print(fonts)
var panel_label = ui.Label({value:"Select Layer Type:",style:fonts.H3})
        
var layer_label = ui.Label({value:"Display Layer:",style:fonts.H3})
var panel_widgets = [panel_label,select_layer_type,layer_label,select_display_layer]
var panel_layout = ui.Panel.Layout.absolute("bottom-left")

/* Style */ 

panel_label.style().set('fontWeight','500')
var panel_style = {position: 'bottom-left',width:'300px', height:"80%"}


/* Panel */ 
var panel_1 = ui.Panel({widgets:panel_widgets,style:panel_style})//, layout:panel_layout})//, })
Map.add(panel_1)