/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var census = ee.FeatureCollection("TIGER/2010/Blocks"),
    cityLimits = ee.FeatureCollection("users/stormwaterheatmap/tables/cityLimits");
/***** End of imports. If edited, may not auto-convert in the playground. *****/

/* ---------------------------
* Author: Christian Nilsen, Geosyntec Consultants
* Email: cnilsen@geosyntec.com
* Date Created: 2021-07-16
*---------------------------

/**
 * Vectors
 *---------------------------
 */

var PugetSound = ee.FeatureCollection(
    "users/stormwaterheatmap/tables/PugetSound");
exports.PugetSound = PugetSound

exports.cityLimits = cityLimits.filterBounds(
    PugetSound)

exports.counties = ee.FeatureCollection(
        "TIGER/2018/Counties")
    .filterBounds(
        PugetSound)
exports.HUC12 = ee.FeatureCollection(
    "projects/ee-stormwaterheatmap/assets/huc12");
exports.HUC10 = ee.FeatureCollection(
        "USGS/WBD/2017/HUC10")
    .filterBounds(
        PugetSound);
exports.HUC08 = ee.FeatureCollection(
        "USGS/WBD/2017/HUC08")
    .filterBounds(
        PugetSound);
exports.NHDPlus = ee.FeatureCollection(
    "projects/ee-stormwaterheatmap/assets/NHDPlus_High_Resolution_Watershed_Dataset_string"
);
exports.PS_AU = ee.FeatureCollection(
    "projects/ee-stormwaterheatmap/assets/Puget_Sound_Assessment_Units_string"
)
exports.WRIA = ee.FeatureCollection(
        "users/stormwaterheatmap/WRIA_Bounds"
    )
    .filterBounds(PugetSound);
exports.MS4 = ee.FeatureCollection(
        "users/stormwaterheatmap/MS4_bounds"
    )
    .filterBounds(PugetSound)

/*---------------------------
Stormwaterheatmap Vector Assets
*/
exports.counties = ee.FeatureCollection(
  "TIGER/2018/Counties")
.filterBounds(
  PugetSound);
exports.traffic = ee.Image(0)
.blend(ee.Image(
  "users/cnilsen/trafficExport"))
.focal_max()
.selfMask()
//Watersheds
exports.PS_AU = ee.FeatureCollection(
'users/cnilsen/PS_AU')
/*---------------------------
Earth Engine Catalog Data
*/

exports.hrus = ee.Image("users/stormwaterheatmap/public/hrusJan2020Mode")


//exports.slope = slopeZone;




/*---------------------------
Stormwaterheatmap Image Assets
*/


exports.Age_of_Imperviousness = ee.Image("projects/ee-swhm/assets/production_layers/Age_of_Imperviousness")
exports.Flow_Duration_Index = ee.Image("projects/ee-swhm/assets/production_layers/Flow_Duration_Index")
exports.HSPF_Land_Cover_Type = ee.Image("projects/ee-swhm/assets/production_layers/HSPF_Land_Cover_Type")
exports.Hydrologic_Response_Units = ee.Image("projects/ee-swhm/assets/production_layers/Hydrologic_Response_Units")
exports.Imperviousness = ee.Image("projects/ee-swhm/assets/production_layers/Imperviousness")
exports.Land_Cover = ee.Image("projects/ee-swhm/assets/production_layers/Land_Cover")
exports.Land_Use = ee.Image("projects/ee-swhm/assets/production_layers/Land_Use")
exports.Population_Density = ee.Image("projects/ee-swhm/assets/production_layers/Population_Density")
exports.Precipitation_mm = ee.Image("projects/ee-swhm/assets/production_layers/Precipitation_mm")
exports.Runoff_mm = ee.Image("projects/ee-swhm/assets/production_layers/Runoff_mm")
exports.Slope = ee.Image("projects/ee-swhm/assets/production_layers/Slope")
exports.Slope_Categories = ee.Image("projects/ee-swhm/assets/production_layers/Slope_Categories")
exports.Soils = ee.Image("projects/ee-swhm/assets/production_layers/Soils")

exports.Total_Copper_Concentration = 
ee.Image("projects/ee-swhm/assets/production_layers/Total_Copper_Concentration")
exports.Total_Kjeldahl_Nitrogen_Concentration = ee.Image("projects/ee-swhm/assets/production_layers/Total_Kjeldahl_Nitrogen_Concentration")
exports.Total_Phosphorus_Concentration = ee.Image("projects/ee-swhm/assets/production_layers/Total_Phosphorus_Concentration")
exports.Total_Suspended_Solids_Concentration = 
ee.Image("projects/ee-swhm/assets/production_layers/Total_Suspended_Solids_Concentration").
rename("log_tss_concentration_mg_per_L")
exports.Total_Zinc_Concentration = ee.Image("projects/ee-swhm/assets/production_layers/Total_Zinc_Concentration")
exports.Traffic = ee.Image("projects/ee-swhm/assets/production_layers/Traffic")

// exports.population = population.selfMask()
// exports.landuse_img = ee.Image(
//         "projects/ee-stormwaterheatmap/assets/lu5m"
//     )
//     .rename("Land Use")
//     .rename("land_use_code")



// exports.population_density = HRSL.focal_mean()
// // Map the area getting function over the FeatureCollection.

// //Soils
// exports.soils = ee.Image("users/stormwaterheatmap/soilsunmask5m")
//     .clip(PugetSound)
//     .selfMask()
// //imperviousnessation
// exports.population_per_ha = ee.Image(
//     "users/stormwaterheatmap/population_per_ha");
// //Precipitation
// exports.precip = ee.Image("users/stormwaterheatmap/CigP2500");
// //Landcover

// exports.tncLC = tncLC
// //Imperviousness

// var water = ee.Image("JRC/GSW1_3/GlobalSurfaceWater")
//     .select('occurrence')

// var watermask = ee.Image(1)
//     .blend(water.eq(0))
// //Map.addLayer(imperviousness.mask(watermask))
// exports.imperviousness = imperviousness.mask(watermask)
// //updated 6/22/2021

// exports.age_of_development = imperviousAge
// /*---------------------------
// // Import HSPF Layers
// */

// exports.fdr = hspfLayers.fdr
// exports.hspf_landcover = hspfLayers.hspf_landcover.rename(
//     'hspf_landcover_categories')


var psau_shed_img = ee.Image("projects/ee-stormwaterheatmap/assets/pasuv2")
    .select(0)
    .gt(0)
    .byte()
    .focal_max(1)
exports.psau_shed_img = psau_shed_img
