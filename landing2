//ui.root.clear();
ui.root.setLayout(ui.Panel.Layout.absolute());

// data 
var data = require('users/stormwaterheatmap/apps:data/data_dict.js')
var Style = require('users/stormwaterheatmap/apps:Modules/Style')

var fonts = Style.fonts 

var rasters = data.rasters
var layer_types = Object.keys(rasters)
print(layer_types)
var test_list = (Object.keys(rasters["Input Data Layers"]))
  



/* ----------------------------
WIDGETS 
*/
/* Select */ 

var panel = ui.Panel();

/* Label */ 

var panel_label = ui.Label({value:"Select Layer Type:",style:fonts.H3})
        
var layer_label = ui.Label({value:"Display Layer:",style:fonts.H3})
var panel_layout = ui.Panel.Layout.absolute("bottom-left")

/* Style */ 

panel_label.style().set('fontWeight','500')

var panel_style = {position: 'bottom-left',width:'300px', height:"80%"}


/* Panel */ 
var panel = ui.Panel({widgets:[panel_label,layer_label],style:panel_style})//, layout:panel_layout})//, })
Map.add(panel)



var select_layer_type = ui.Select({
  items: layer_types,
  placeholder: "Select Layer Type", 
  value: layer_types[0], 
  onChange: function() {
    var layers_list = (Object.keys(rasters[select_layer_type.getValue()]))

      secondname_select = ui.Select({
        items: layers_list,//select_layer_type.getValue()], 
        onChange: function() {
        }
      });
    
  
  
    panel.widgets().set(2, secondname_select);
  }
  
  });

var getvalue = ui.Button({
  label: 'Get Values',
  onClick: function() {
    //print('First: ' + firstname_select.getValue());
    print('Select: ' + secondname_select.getValue());
  }
});

var secondname_select = ui.Select();
panel.widgets().insert(1, select_layer_type);

panel.widgets().insert(2, secondname_select);
panel.widgets().insert(3, getvalue);